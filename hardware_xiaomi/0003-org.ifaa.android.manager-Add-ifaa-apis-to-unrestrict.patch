From b7bb26f8b609d9d298eb32bc722edd453e3424e3 Mon Sep 17 00:00:00 2001
From: dianlujitao <dianlujitao@lineageos.org>
Date: Thu, 9 Jan 2020 20:46:29 +0800
Subject: [PATCH 3/3] org.ifaa.android.manager: Add ifaa apis to unrestricted
 greylist

Change-Id: If33a18edaf6083281265ce94fd143d72b4bb4fb8
---
 .../src/org/ifaa/android/manager/IFAAManager.java         | 6 ++++++
 .../src/org/ifaa/android/manager/IFAAManagerFactory.java  | 2 ++
 .../src/org/ifaa/android/manager/IFAAManagerV2.java       | 2 ++
 .../src/org/ifaa/android/manager/IFAAManagerV3.java       | 8 ++++++++
 .../src/org/ifaa/android/manager/IFAAManagerV4.java       | 4 ++++
 5 files changed, 22 insertions(+)

diff --git a/org.ifaa.android.manager/src/org/ifaa/android/manager/IFAAManager.java b/org.ifaa.android.manager/src/org/ifaa/android/manager/IFAAManager.java
index a4be59f..2b73abb 100644
--- a/org.ifaa.android.manager/src/org/ifaa/android/manager/IFAAManager.java
+++ b/org.ifaa.android.manager/src/org/ifaa/android/manager/IFAAManager.java
@@ -1,5 +1,6 @@
 package org.ifaa.android.manager;
 
+import android.annotation.UnsupportedAppUsage;
 import android.content.Context;
 import android.os.Build.VERSION;
 import android.os.SystemProperties;
@@ -15,6 +16,7 @@ public abstract class IFAAManager {
     /**
      * 返回手机系统上支持的校验方式，目前IFAF协议1.0版本指纹为0x01、虹膜为0x02
      */
+    @UnsupportedAppUsage
     public abstract int getSupportBIOTypes(Context context);
 
     /**
@@ -24,6 +26,7 @@ public abstract class IFAAManager {
      * @param authType 生物特征识别类型，指纹为1，虹膜为2
      * @return 0，成功启动指纹管理应用；-1，启动指纹管理应用失败。
      */
+    @UnsupportedAppUsage
     public abstract int startBIOManager(Context context, int authType);
 
     /**
@@ -32,16 +35,19 @@ public abstract class IFAAManager {
      * @param param 用于传输到IFAA TA的数据buffer
      * @return IFAA TA返回给REE数据buffer
      */
+    @UnsupportedAppUsage
     public native byte[] processCmd(Context context, byte[] param);
 
     /**
      * 获取设备型号，同一款机型型号需要保持一致
      */
+    @UnsupportedAppUsage
     public abstract String getDeviceModel();
 
     /**
      * 获取IFAAManager接口定义版本，目前为1
      */
+    @UnsupportedAppUsage
     public abstract int getVersion();
 
     /**
diff --git a/org.ifaa.android.manager/src/org/ifaa/android/manager/IFAAManagerFactory.java b/org.ifaa.android.manager/src/org/ifaa/android/manager/IFAAManagerFactory.java
index 97a948a..a948fd2 100644
--- a/org.ifaa.android.manager/src/org/ifaa/android/manager/IFAAManagerFactory.java
+++ b/org.ifaa.android.manager/src/org/ifaa/android/manager/IFAAManagerFactory.java
@@ -1,8 +1,10 @@
 package org.ifaa.android.manager;
 
+import android.annotation.UnsupportedAppUsage;
 import android.content.Context;
 
 public class IFAAManagerFactory {
+    @UnsupportedAppUsage
     public static IFAAManager getIFAAManager(Context context, int authType) {
         return IFAAManagerImpl.getInstance(context);
     }
diff --git a/org.ifaa.android.manager/src/org/ifaa/android/manager/IFAAManagerV2.java b/org.ifaa.android.manager/src/org/ifaa/android/manager/IFAAManagerV2.java
index 2d7e3f5..7a62da1 100644
--- a/org.ifaa.android.manager/src/org/ifaa/android/manager/IFAAManagerV2.java
+++ b/org.ifaa.android.manager/src/org/ifaa/android/manager/IFAAManagerV2.java
@@ -1,7 +1,9 @@
 package org.ifaa.android.manager;
 
+import android.annotation.UnsupportedAppUsage;
 import android.content.Context;
 
 public abstract class IFAAManagerV2 extends IFAAManager {
+    @UnsupportedAppUsage
     public abstract byte[] processCmdV2(Context paramContext, byte[] paramArrayOfByte);
 }
diff --git a/org.ifaa.android.manager/src/org/ifaa/android/manager/IFAAManagerV3.java b/org.ifaa.android.manager/src/org/ifaa/android/manager/IFAAManagerV3.java
index 50e677d..a33d3d9 100644
--- a/org.ifaa.android.manager/src/org/ifaa/android/manager/IFAAManagerV3.java
+++ b/org.ifaa.android.manager/src/org/ifaa/android/manager/IFAAManagerV3.java
@@ -1,12 +1,20 @@
 package org.ifaa.android.manager;
 
+import android.annotation.UnsupportedAppUsage;
+
 public abstract class IFAAManagerV3 extends IFAAManagerV2 {
+    @UnsupportedAppUsage
     public static final String KEY_FINGERPRINT_FULLVIEW = "org.ifaa.ext.key.CUSTOM_VIEW";
+    @UnsupportedAppUsage
     public static final String KEY_GET_SENSOR_LOCATION = "org.ifaa.ext.key.GET_SENSOR_LOCATION";
+    @UnsupportedAppUsage
     public static final String VALUE_FINGERPRINT_DISABLE = "disable";
+    @UnsupportedAppUsage
     public static final String VLAUE_FINGERPRINT_ENABLE = "enable";
 
+    @UnsupportedAppUsage
     public abstract String getExtInfo(int authType, String keyExtInfo);
 
+    @UnsupportedAppUsage
     public abstract void setExtInfo(int authType, String keyExtInfo, String valExtInfo);
 }
diff --git a/org.ifaa.android.manager/src/org/ifaa/android/manager/IFAAManagerV4.java b/org.ifaa.android.manager/src/org/ifaa/android/manager/IFAAManagerV4.java
index 0c130d0..02689d8 100644
--- a/org.ifaa.android.manager/src/org/ifaa/android/manager/IFAAManagerV4.java
+++ b/org.ifaa.android.manager/src/org/ifaa/android/manager/IFAAManagerV4.java
@@ -1,7 +1,11 @@
 package org.ifaa.android.manager;
 
+import android.annotation.UnsupportedAppUsage;
+
 public abstract class IFAAManagerV4 extends IFAAManagerV3 {
+    @UnsupportedAppUsage
     public abstract int getEnabled(int i);
 
+    @UnsupportedAppUsage
     public abstract int[] getIDList(int i);
 }
-- 
2.17.1

